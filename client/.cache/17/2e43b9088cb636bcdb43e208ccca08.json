{"id":"src/user/loginUser.js","dependencies":[{"name":"/Users/jamesmac/General_Assembly/projects/Full-Stack-Movie-Database/client/package.json","includedInParent":true,"mtime":1611366116282},{"name":"./newUser","loc":{"line":1,"column":20},"parent":"/Users/jamesmac/General_Assembly/projects/Full-Stack-Movie-Database/client/src/user/loginUser.js","resolved":"/Users/jamesmac/General_Assembly/projects/Full-Stack-Movie-Database/client/src/user/newUser.js"},{"name":"../newMovie","loc":{"line":2,"column":21},"parent":"/Users/jamesmac/General_Assembly/projects/Full-Stack-Movie-Database/client/src/user/loginUser.js","resolved":"/Users/jamesmac/General_Assembly/projects/Full-Stack-Movie-Database/client/src/newMovie.js"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _newUser = _interopRequireDefault(require(\"./newUser\"));\n\nvar _newMovie = _interopRequireDefault(require(\"../newMovie\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nvar form = \"\\n<body>\\n<header>\\n    <nav>\\n      <div class=\\\"row\\\">\\n         <img src=\\\"/client/images/vector60-1238-01.png\\\" alt=\\\"movie-ticket logo\\\" class=\\\"logo\\\">\\n          <ul class=\\\"main-nav\\\">\\n            <li><a href=\\\"#\\\">Custom library</a></li>\\n            <li><a href=\\\"#\\\">Wishlist</a></li>\\n            <li><a href=\\\"#\\\">Movie Checklist</a></li>\\n            <li><a href=\\\"#\\\">Edit Database</a></li>\\n          </ul>\\n      </div>\\n    </nav>\\n      <div class=\\\"hero-text-box\\\">\\n            <h1>Cinephile Personal Movie Database</h1>\\n              <a class=\\\"btn btn-full\\\" href=\\\"#\\\">Log-in</a>\\n              <a class=\\\"btn btn-ghost\\\" href=\\\"#\\\">Save movie</a>\\n      </div>\\n</header>\\n\\n<section class=\\\"section-features\\\">\\n      <div class=\\\"row\\\">\\n            <h2>Keep track of your favourites!</h2>\\n              <p class=\\\"long-copy\\\">\\n              Welcome Cinephiles! We love movies, and we know you love movies, too. Why else would you be here! But how do keep track of which movies you've seen and want to see? Relax, Cinephile Personal Movie Database has got you covered.\\n              </p>\\n      </div>\\n\\n      <div class=\\\"row\\\">\\n        <div class=\\\"col span-1-of-4 box\\\">\\n          <ion-icon name=\\\"library-outline\\\" class=\\\"icon-big\\\"></ion-icon>\\n            <h3>Custom libraries</h3>\\n              <p>\\n              Whether you watch a movie a week, or ten a day, CPMD gives you the option of saving custom movie libraries for easy reference. \\n              </p>\\n      </div>\\n        <div class=\\\"col span-1-of-4 box\\\">\\n          <ion-icon name=\\\"videocam-outline\\\" class=\\\"icon-big\\\"></ion-icon>\\n            <h3>Save movies in any format</h3>\\n              <p>   \\n              A movie is a movie, right? Sure, but you may like watching streamed content or go old school and throw in a DVD/Blu-ray. With CPMD you can easily record different movie formats.  \\n              </p>\\n      </div>      \\n        <div class=\\\"col span-1-of-4 box\\\">\\n          <ion-icon name=\\\"star-outline\\\" class=\\\"icon-big\\\"></ion-icon>\\n            <h3>Wishlist categories</h3>\\n              <p>\\n              So many movies to watch, so little time! Don't worry, CPMD allows you to quickly save movies you haven't seen yet to your own personalised wishlist. You'll get around to them eventually...\\n              </p>\\n      </div>      \\n        <div class=\\\"col span-1-of-4 box\\\">\\n          <ion-icon name=\\\"create-outline\\\" class=\\\"icon-big\\\"></ion-icon>\\n            <h3>Update and edit with ease</h3>\\n              <p>\\n              New movies are released every day and if you're like us, you want to watch them ALL!! If your taste in movies changes, add or delete them whenever you like. \\n              </p>\\n        </div>\\n    </div>\\n</section>\\n\\n<section class=\\\"section-movies\\\">\\n      <ul class=\\\"movies-showcase\\\">\\n        <li>\\n          <figure class=\\\"movie-poster\\\">\\n            <img src=\\\"/client/images/back-to-the-future.jpg\\\" alt=\\\"movie-poster 1\\\">\\n          </figure>\\n        </li>\\n        <li>\\n          <figure class=\\\"movie-poster\\\">\\n            <img src=\\\"/client/images/godfather-III.jpg\\\" alt=\\\"movie-poster 2\\\">\\n          </figure>\\n        </li>\\n        <li>\\n          <figure class=\\\"movie-poster\\\">\\n            <img src=\\\"/client/images/jaws.jpg\\\" alt=\\\"movie-poster 3\\\">\\n          </figure>\\n        </li>\\n        <li>\\n          <figure class=\\\"movie-poster\\\">\\n            <img src=\\\"/client/images/jurassic-park.jpg\\\" alt=\\\"movie-poster 4\\\">\\n          </figure>\\n        </li>\\n      </ul>\\n\\n<ul class=\\\"movies-showcase\\\">\\n        <li>\\n          <figure class=\\\"movie-poster\\\">\\n            <img src=\\\"/client/images/Halloween.jpg\\\" alt=\\\"movie-poster 5\\\">\\n          </figure>\\n        </li>\\n        <li>\\n          <figure class=\\\"movie-poster\\\">\\n            <img src=\\\"/client/images/star-wars-episode-iv.jpg\\\" alt=\\\"movie-poster 6\\\">\\n          </figure>\\n        </li>\\n        <li>\\n          <figure class=\\\"movie-poster\\\">\\n            <img src=\\\"/client/images/pulp-fiction.jpg\\\" alt=\\\"movie-poster 7\\\">\\n          </figure>\\n        </li>\\n        <li>\\n          <figure class=\\\"movie-poster\\\">\\n            <img src=\\\"/client/images/indiana-jones-and-the-temple-of-doom.jpg\\\" alt=\\\"movie-poster 8\\\">\\n          </figure>\\n        </li>\\n      </ul>\\n\\n\\n</section>\\n\\n<form id=\\\"login-user\\\">\\n        <div class=\\\"form-group\\\">\\n            <label for=\\\"username\\\">Username</label>\\n            <input type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"Please enter username\\\" name=\\\"username\\\">\\n        </div>\\n        <div class=\\\"form-group\\\">\\n            <label for=\\\"password\\\">Password</label>\\n            <input type=\\\"password\\\" class=\\\"form-control\\\" placeholder=\\\"Please enter password\\\" name=\\\"password\\\">\\n        </div>\\n        <button type=\\\"submit\\\" class=\\\"btn btn-primary\\\">Log-in</button>\\n    </form>\\n    <button id=\\\"register-new-user\\\" class=\\\"btn btn-primary\\\">Register new user</button>\\n</body>\\n\";\n\nvar loginUser = function loginUser() {\n  $(document).on(\"submit\", \"#login-user\", /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(event) {\n      var formData, response;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              event.preventDefault();\n              formData = {\n                username: $(\"input[name='username']\").val(),\n                password: $(\"input[name='password']\").val()\n              };\n              _context.prev = 2;\n              _context.next = 5;\n              return $.ajax({\n                type: \"POST\",\n                url: \"/api/users/login\",\n                contentType: \"application/json\",\n                data: JSON.stringify(formData)\n              });\n\n            case 5:\n              response = _context.sent;\n              $(\"body\").empty();\n              $(\"body\").append((0, _newMovie.default)());\n              _context.next = 13;\n              break;\n\n            case 10:\n              _context.prev = 10;\n              _context.t0 = _context[\"catch\"](2);\n              $(\"body\").append(\"<div>Invalid user/pass provided!</div>\");\n\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[2, 10]]);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }());\n  return form;\n};\n\n$(document).on(\"click\", \"#register-new-user\", function () {\n  $(\"body\").empty();\n  $(\"body\").append((0, _newUser.default)());\n});\nvar _default = loginUser;\nexports.default = _default;"},"sourceMaps":{"js":{"mappings":[{"generated":{"line":8,"column":0},"source":"src/user/loginUser.js","original":{"line":1,"column":0}},{"generated":{"line":10,"column":0},"source":"src/user/loginUser.js","original":{"line":2,"column":0}},{"generated":{"line":18,"column":0},"source":"src/user/loginUser.js","original":{"line":4,"column":0}},{"name":"form","generated":{"line":18,"column":4},"source":"src/user/loginUser.js","original":{"line":4,"column":6}},{"generated":{"line":18,"column":8},"source":"src/user/loginUser.js","original":{"line":4,"column":10}},{"generated":{"line":18,"column":5048},"source":"src/user/loginUser.js","original":{"line":4,"column":0}},{"generated":{"line":20,"column":0},"source":"src/user/loginUser.js","original":{"line":130,"column":0}},{"name":"loginUser","generated":{"line":20,"column":4},"source":"src/user/loginUser.js","original":{"line":130,"column":6}},{"generated":{"line":20,"column":13},"source":"src/user/loginUser.js","original":{"line":130,"column":15}},{"generated":{"line":20,"column":16},"source":"src/user/loginUser.js","original":{"line":130,"column":18}},{"name":"loginUser","generated":{"line":20,"column":25},"source":"src/user/loginUser.js","original":{"line":130,"column":6}},{"generated":{"line":20,"column":34},"source":"src/user/loginUser.js","original":{"line":130,"column":18}},{"generated":{"line":20,"column":37},"source":"src/user/loginUser.js","original":{"line":130,"column":24}},{"name":"$","generated":{"line":21,"column":0},"source":"src/user/loginUser.js","original":{"line":131,"column":2}},{"name":"$","generated":{"line":21,"column":2},"source":"src/user/loginUser.js","original":{"line":131,"column":2}},{"generated":{"line":21,"column":3},"source":"src/user/loginUser.js","original":{"line":131,"column":3}},{"name":"document","generated":{"line":21,"column":4},"source":"src/user/loginUser.js","original":{"line":131,"column":4}},{"generated":{"line":21,"column":12},"source":"src/user/loginUser.js","original":{"line":131,"column":3}},{"generated":{"line":21,"column":13},"source":"src/user/loginUser.js","original":{"line":131,"column":2}},{"name":"on","generated":{"line":21,"column":14},"source":"src/user/loginUser.js","original":{"line":131,"column":14}},{"generated":{"line":21,"column":16},"source":"src/user/loginUser.js","original":{"line":131,"column":2}},{"generated":{"line":21,"column":17},"source":"src/user/loginUser.js","original":{"line":131,"column":17}},{"generated":{"line":21,"column":25},"source":"src/user/loginUser.js","original":{"line":131,"column":2}},{"generated":{"line":21,"column":27},"source":"src/user/loginUser.js","original":{"line":131,"column":27}},{"generated":{"line":21,"column":40},"source":"src/user/loginUser.js","original":{"line":131,"column":2}},{"generated":{"line":22,"column":0},"source":"src/user/loginUser.js","original":{"line":131,"column":2}},{"generated":{"line":22,"column":71},"source":"src/user/loginUser.js","original":{"line":131,"column":42}},{"name":"event","generated":{"line":22,"column":88},"source":"src/user/loginUser.js","original":{"line":131,"column":49}},{"generated":{"line":22,"column":93},"source":"src/user/loginUser.js","original":{"line":131,"column":42}},{"generated":{"line":23,"column":0},"source":"src/user/loginUser.js","original":{"line":131,"column":42}},{"generated":{"line":24,"column":0},"source":"src/user/loginUser.js","original":{"line":131,"column":42}},{"generated":{"line":25,"column":0},"source":"src/user/loginUser.js","original":{"line":131,"column":42}},{"generated":{"line":26,"column":0},"source":"src/user/loginUser.js","original":{"line":131,"column":42}},{"generated":{"line":27,"column":0},"source":"src/user/loginUser.js","original":{"line":131,"column":42}},{"name":"event","generated":{"line":28,"column":0},"source":"src/user/loginUser.js","original":{"line":132,"column":4}},{"name":"event","generated":{"line":28,"column":14},"source":"src/user/loginUser.js","original":{"line":132,"column":4}},{"generated":{"line":28,"column":19},"source":"src/user/loginUser.js","original":{"line":132,"column":9}},{"name":"preventDefault","generated":{"line":28,"column":20},"source":"src/user/loginUser.js","original":{"line":132,"column":10}},{"generated":{"line":28,"column":34},"source":"src/user/loginUser.js","original":{"line":132,"column":4}},{"name":"formData","generated":{"line":29,"column":0},"source":"src/user/loginUser.js","original":{"line":134,"column":10}},{"name":"formData","generated":{"line":29,"column":14},"source":"src/user/loginUser.js","original":{"line":134,"column":10}},{"generated":{"line":29,"column":22},"source":"src/user/loginUser.js","original":{"line":131,"column":42}},{"generated":{"line":29,"column":25},"source":"src/user/loginUser.js","original":{"line":134,"column":21}},{"name":"username","generated":{"line":30,"column":0},"source":"src/user/loginUser.js","original":{"line":135,"column":6}},{"name":"username","generated":{"line":30,"column":16},"source":"src/user/loginUser.js","original":{"line":135,"column":6}},{"generated":{"line":30,"column":24},"source":"src/user/loginUser.js","original":{"line":135,"column":14}},{"name":"$","generated":{"line":30,"column":26},"source":"src/user/loginUser.js","original":{"line":135,"column":16}},{"generated":{"line":30,"column":27},"source":"src/user/loginUser.js","original":{"line":135,"column":17}},{"generated":{"line":30,"column":28},"source":"src/user/loginUser.js","original":{"line":135,"column":18}},{"generated":{"line":30,"column":52},"source":"src/user/loginUser.js","original":{"line":135,"column":17}},{"generated":{"line":30,"column":53},"source":"src/user/loginUser.js","original":{"line":135,"column":16}},{"name":"val","generated":{"line":30,"column":54},"source":"src/user/loginUser.js","original":{"line":135,"column":44}},{"generated":{"line":30,"column":57},"source":"src/user/loginUser.js","original":{"line":135,"column":16}},{"generated":{"line":30,"column":59},"source":"src/user/loginUser.js","original":{"line":134,"column":21}},{"name":"password","generated":{"line":31,"column":0},"source":"src/user/loginUser.js","original":{"line":136,"column":6}},{"name":"password","generated":{"line":31,"column":16},"source":"src/user/loginUser.js","original":{"line":136,"column":6}},{"generated":{"line":31,"column":24},"source":"src/user/loginUser.js","original":{"line":136,"column":14}},{"name":"$","generated":{"line":31,"column":26},"source":"src/user/loginUser.js","original":{"line":136,"column":16}},{"generated":{"line":31,"column":27},"source":"src/user/loginUser.js","original":{"line":136,"column":17}},{"generated":{"line":31,"column":28},"source":"src/user/loginUser.js","original":{"line":136,"column":18}},{"generated":{"line":31,"column":52},"source":"src/user/loginUser.js","original":{"line":136,"column":17}},{"generated":{"line":31,"column":53},"source":"src/user/loginUser.js","original":{"line":136,"column":16}},{"name":"val","generated":{"line":31,"column":54},"source":"src/user/loginUser.js","original":{"line":136,"column":44}},{"generated":{"line":31,"column":57},"source":"src/user/loginUser.js","original":{"line":136,"column":16}},{"generated":{"line":32,"column":0},"source":"src/user/loginUser.js","original":{"line":134,"column":21}},{"generated":{"line":32,"column":15},"source":"src/user/loginUser.js","original":{"line":131,"column":42}},{"generated":{"line":33,"column":0},"source":"src/user/loginUser.js","original":{"line":131,"column":42}},{"generated":{"line":34,"column":0},"source":"src/user/loginUser.js","original":{"line":131,"column":42}},{"generated":{"line":35,"column":0},"source":"src/user/loginUser.js","original":{"line":131,"column":42}},{"name":"$","generated":{"line":35,"column":21},"source":"src/user/loginUser.js","original":{"line":140,"column":29}},{"generated":{"line":35,"column":22},"source":"src/user/loginUser.js","original":{"line":140,"column":30}},{"name":"ajax","generated":{"line":35,"column":23},"source":"src/user/loginUser.js","original":{"line":140,"column":31}},{"generated":{"line":35,"column":27},"source":"src/user/loginUser.js","original":{"line":140,"column":29}},{"generated":{"line":35,"column":28},"source":"src/user/loginUser.js","original":{"line":140,"column":36}},{"name":"type","generated":{"line":36,"column":0},"source":"src/user/loginUser.js","original":{"line":141,"column":8}},{"name":"type","generated":{"line":36,"column":16},"source":"src/user/loginUser.js","original":{"line":141,"column":8}},{"generated":{"line":36,"column":20},"source":"src/user/loginUser.js","original":{"line":141,"column":12}},{"generated":{"line":36,"column":22},"source":"src/user/loginUser.js","original":{"line":141,"column":14}},{"generated":{"line":36,"column":28},"source":"src/user/loginUser.js","original":{"line":140,"column":36}},{"name":"url","generated":{"line":37,"column":0},"source":"src/user/loginUser.js","original":{"line":142,"column":8}},{"name":"url","generated":{"line":37,"column":16},"source":"src/user/loginUser.js","original":{"line":142,"column":8}},{"generated":{"line":37,"column":19},"source":"src/user/loginUser.js","original":{"line":142,"column":11}},{"generated":{"line":37,"column":21},"source":"src/user/loginUser.js","original":{"line":142,"column":13}},{"generated":{"line":37,"column":39},"source":"src/user/loginUser.js","original":{"line":140,"column":36}},{"name":"contentType","generated":{"line":38,"column":0},"source":"src/user/loginUser.js","original":{"line":143,"column":8}},{"name":"contentType","generated":{"line":38,"column":16},"source":"src/user/loginUser.js","original":{"line":143,"column":8}},{"generated":{"line":38,"column":27},"source":"src/user/loginUser.js","original":{"line":143,"column":19}},{"generated":{"line":38,"column":29},"source":"src/user/loginUser.js","original":{"line":143,"column":21}},{"generated":{"line":38,"column":47},"source":"src/user/loginUser.js","original":{"line":140,"column":36}},{"name":"data","generated":{"line":39,"column":0},"source":"src/user/loginUser.js","original":{"line":144,"column":8}},{"name":"data","generated":{"line":39,"column":16},"source":"src/user/loginUser.js","original":{"line":144,"column":8}},{"generated":{"line":39,"column":20},"source":"src/user/loginUser.js","original":{"line":144,"column":12}},{"name":"JSON","generated":{"line":39,"column":22},"source":"src/user/loginUser.js","original":{"line":144,"column":14}},{"generated":{"line":39,"column":26},"source":"src/user/loginUser.js","original":{"line":144,"column":18}},{"name":"stringify","generated":{"line":39,"column":27},"source":"src/user/loginUser.js","original":{"line":144,"column":19}},{"generated":{"line":39,"column":36},"source":"src/user/loginUser.js","original":{"line":144,"column":14}},{"name":"formData","generated":{"line":39,"column":37},"source":"src/user/loginUser.js","original":{"line":144,"column":29}},{"generated":{"line":39,"column":45},"source":"src/user/loginUser.js","original":{"line":144,"column":14}},{"generated":{"line":40,"column":0},"source":"src/user/loginUser.js","original":{"line":140,"column":36}},{"generated":{"line":40,"column":15},"source":"src/user/loginUser.js","original":{"line":140,"column":29}},{"generated":{"line":40,"column":16},"source":"src/user/loginUser.js","original":{"line":131,"column":42}},{"generated":{"line":42,"column":0},"source":"src/user/loginUser.js","original":{"line":131,"column":42}},{"name":"response","generated":{"line":43,"column":0},"source":"src/user/loginUser.js","original":{"line":140,"column":12}},{"name":"response","generated":{"line":43,"column":14},"source":"src/user/loginUser.js","original":{"line":140,"column":12}},{"generated":{"line":43,"column":22},"source":"src/user/loginUser.js","original":{"line":131,"column":42}},{"name":"$","generated":{"line":44,"column":0},"source":"src/user/loginUser.js","original":{"line":147,"column":6}},{"name":"$","generated":{"line":44,"column":14},"source":"src/user/loginUser.js","original":{"line":147,"column":6}},{"generated":{"line":44,"column":15},"source":"src/user/loginUser.js","original":{"line":147,"column":7}},{"generated":{"line":44,"column":16},"source":"src/user/loginUser.js","original":{"line":147,"column":8}},{"generated":{"line":44,"column":22},"source":"src/user/loginUser.js","original":{"line":147,"column":7}},{"generated":{"line":44,"column":23},"source":"src/user/loginUser.js","original":{"line":147,"column":6}},{"name":"empty","generated":{"line":44,"column":24},"source":"src/user/loginUser.js","original":{"line":147,"column":16}},{"generated":{"line":44,"column":29},"source":"src/user/loginUser.js","original":{"line":147,"column":6}},{"name":"$","generated":{"line":45,"column":0},"source":"src/user/loginUser.js","original":{"line":148,"column":6}},{"name":"$","generated":{"line":45,"column":14},"source":"src/user/loginUser.js","original":{"line":148,"column":6}},{"generated":{"line":45,"column":15},"source":"src/user/loginUser.js","original":{"line":148,"column":7}},{"generated":{"line":45,"column":16},"source":"src/user/loginUser.js","original":{"line":148,"column":8}},{"generated":{"line":45,"column":22},"source":"src/user/loginUser.js","original":{"line":148,"column":7}},{"generated":{"line":45,"column":23},"source":"src/user/loginUser.js","original":{"line":148,"column":6}},{"name":"append","generated":{"line":45,"column":24},"source":"src/user/loginUser.js","original":{"line":148,"column":16}},{"generated":{"line":45,"column":30},"source":"src/user/loginUser.js","original":{"line":148,"column":6}},{"generated":{"line":45,"column":31},"source":"src/user/loginUser.js","original":{"line":148,"column":23}},{"generated":{"line":45,"column":55},"source":"src/user/loginUser.js","original":{"line":148,"column":6}},{"generated":{"line":46,"column":0},"source":"src/user/loginUser.js","original":{"line":131,"column":42}},{"generated":{"line":47,"column":0},"source":"src/user/loginUser.js","original":{"line":131,"column":42}},{"generated":{"line":49,"column":0},"source":"src/user/loginUser.js","original":{"line":131,"column":42}},{"generated":{"line":50,"column":0},"source":"src/user/loginUser.js","original":{"line":131,"column":42}},{"generated":{"line":51,"column":0},"source":"src/user/loginUser.js","original":{"line":131,"column":42}},{"name":"$","generated":{"line":52,"column":0},"source":"src/user/loginUser.js","original":{"line":150,"column":6}},{"name":"$","generated":{"line":52,"column":14},"source":"src/user/loginUser.js","original":{"line":150,"column":6}},{"generated":{"line":52,"column":15},"source":"src/user/loginUser.js","original":{"line":150,"column":7}},{"generated":{"line":52,"column":16},"source":"src/user/loginUser.js","original":{"line":150,"column":8}},{"generated":{"line":52,"column":22},"source":"src/user/loginUser.js","original":{"line":150,"column":7}},{"generated":{"line":52,"column":23},"source":"src/user/loginUser.js","original":{"line":150,"column":6}},{"name":"append","generated":{"line":52,"column":24},"source":"src/user/loginUser.js","original":{"line":150,"column":16}},{"generated":{"line":52,"column":30},"source":"src/user/loginUser.js","original":{"line":150,"column":6}},{"generated":{"line":52,"column":31},"source":"src/user/loginUser.js","original":{"line":150,"column":23}},{"generated":{"line":52,"column":71},"source":"src/user/loginUser.js","original":{"line":150,"column":6}},{"generated":{"line":54,"column":0},"source":"src/user/loginUser.js","original":{"line":131,"column":42}},{"generated":{"line":55,"column":0},"source":"src/user/loginUser.js","original":{"line":131,"column":42}},{"generated":{"line":56,"column":0},"source":"src/user/loginUser.js","original":{"line":131,"column":42}},{"generated":{"line":57,"column":0},"source":"src/user/loginUser.js","original":{"line":131,"column":42}},{"generated":{"line":58,"column":0},"source":"src/user/loginUser.js","original":{"line":131,"column":42}},{"generated":{"line":59,"column":0},"source":"src/user/loginUser.js","original":{"line":131,"column":42}},{"generated":{"line":60,"column":0},"source":"src/user/loginUser.js","original":{"line":131,"column":42}},{"generated":{"line":60,"column":5},"source":"src/user/loginUser.js","original":{"line":131,"column":2}},{"generated":{"line":62,"column":0},"source":"src/user/loginUser.js","original":{"line":131,"column":2}},{"generated":{"line":63,"column":0},"source":"src/user/loginUser.js","original":{"line":131,"column":2}},{"generated":{"line":64,"column":0},"source":"src/user/loginUser.js","original":{"line":131,"column":2}},{"generated":{"line":65,"column":0},"source":"src/user/loginUser.js","original":{"line":131,"column":2}},{"generated":{"line":66,"column":0},"source":"src/user/loginUser.js","original":{"line":153,"column":2}},{"name":"form","generated":{"line":66,"column":9},"source":"src/user/loginUser.js","original":{"line":153,"column":9}},{"generated":{"line":66,"column":13},"source":"src/user/loginUser.js","original":{"line":153,"column":2}},{"generated":{"line":67,"column":0},"source":"src/user/loginUser.js","original":{"line":154,"column":1}},{"generated":{"line":67,"column":1},"source":"src/user/loginUser.js","original":{"line":130,"column":0}},{"name":"$","generated":{"line":69,"column":0},"source":"src/user/loginUser.js","original":{"line":156,"column":0}},{"generated":{"line":69,"column":1},"source":"src/user/loginUser.js","original":{"line":156,"column":1}},{"name":"document","generated":{"line":69,"column":2},"source":"src/user/loginUser.js","original":{"line":156,"column":2}},{"generated":{"line":69,"column":10},"source":"src/user/loginUser.js","original":{"line":156,"column":1}},{"generated":{"line":69,"column":11},"source":"src/user/loginUser.js","original":{"line":156,"column":0}},{"name":"on","generated":{"line":69,"column":12},"source":"src/user/loginUser.js","original":{"line":156,"column":12}},{"generated":{"line":69,"column":14},"source":"src/user/loginUser.js","original":{"line":156,"column":0}},{"generated":{"line":69,"column":15},"source":"src/user/loginUser.js","original":{"line":156,"column":15}},{"generated":{"line":69,"column":22},"source":"src/user/loginUser.js","original":{"line":156,"column":0}},{"generated":{"line":69,"column":24},"source":"src/user/loginUser.js","original":{"line":156,"column":24}},{"generated":{"line":69,"column":44},"source":"src/user/loginUser.js","original":{"line":156,"column":0}},{"generated":{"line":69,"column":46},"source":"src/user/loginUser.js","original":{"line":156,"column":46}},{"generated":{"line":69,"column":58},"source":"src/user/loginUser.js","original":{"line":156,"column":52}},{"name":"$","generated":{"line":70,"column":0},"source":"src/user/loginUser.js","original":{"line":157,"column":2}},{"name":"$","generated":{"line":70,"column":2},"source":"src/user/loginUser.js","original":{"line":157,"column":2}},{"generated":{"line":70,"column":3},"source":"src/user/loginUser.js","original":{"line":157,"column":3}},{"generated":{"line":70,"column":4},"source":"src/user/loginUser.js","original":{"line":157,"column":4}},{"generated":{"line":70,"column":10},"source":"src/user/loginUser.js","original":{"line":157,"column":3}},{"generated":{"line":70,"column":11},"source":"src/user/loginUser.js","original":{"line":157,"column":2}},{"name":"empty","generated":{"line":70,"column":12},"source":"src/user/loginUser.js","original":{"line":157,"column":12}},{"generated":{"line":70,"column":17},"source":"src/user/loginUser.js","original":{"line":157,"column":2}},{"name":"$","generated":{"line":71,"column":0},"source":"src/user/loginUser.js","original":{"line":158,"column":2}},{"name":"$","generated":{"line":71,"column":2},"source":"src/user/loginUser.js","original":{"line":158,"column":2}},{"generated":{"line":71,"column":3},"source":"src/user/loginUser.js","original":{"line":158,"column":3}},{"generated":{"line":71,"column":4},"source":"src/user/loginUser.js","original":{"line":158,"column":4}},{"generated":{"line":71,"column":10},"source":"src/user/loginUser.js","original":{"line":158,"column":3}},{"generated":{"line":71,"column":11},"source":"src/user/loginUser.js","original":{"line":158,"column":2}},{"name":"append","generated":{"line":71,"column":12},"source":"src/user/loginUser.js","original":{"line":158,"column":12}},{"generated":{"line":71,"column":18},"source":"src/user/loginUser.js","original":{"line":158,"column":2}},{"generated":{"line":71,"column":19},"source":"src/user/loginUser.js","original":{"line":158,"column":19}},{"generated":{"line":71,"column":42},"source":"src/user/loginUser.js","original":{"line":158,"column":2}},{"generated":{"line":72,"column":0},"source":"src/user/loginUser.js","original":{"line":159,"column":1}},{"generated":{"line":72,"column":1},"source":"src/user/loginUser.js","original":{"line":156,"column":0}},{"name":"loginUser","generated":{"line":73,"column":15},"source":"src/user/loginUser.js","original":{"line":161,"column":15}}],"sources":{"src/user/loginUser.js":"import newUser from \"./newUser\";\nimport newMovie from \"../newMovie\";\n\nconst form = `\n<body>\n<header>\n    <nav>\n      <div class=\"row\">\n         <img src=\"/client/images/vector60-1238-01.png\" alt=\"movie-ticket logo\" class=\"logo\">\n          <ul class=\"main-nav\">\n            <li><a href=\"#\">Custom library</a></li>\n            <li><a href=\"#\">Wishlist</a></li>\n            <li><a href=\"#\">Movie Checklist</a></li>\n            <li><a href=\"#\">Edit Database</a></li>\n          </ul>\n      </div>\n    </nav>\n      <div class=\"hero-text-box\">\n            <h1>Cinephile Personal Movie Database</h1>\n              <a class=\"btn btn-full\" href=\"#\">Log-in</a>\n              <a class=\"btn btn-ghost\" href=\"#\">Save movie</a>\n      </div>\n</header>\n\n<section class=\"section-features\">\n      <div class=\"row\">\n            <h2>Keep track of your favourites!</h2>\n              <p class=\"long-copy\">\n              Welcome Cinephiles! We love movies, and we know you love movies, too. Why else would you be here! But how do keep track of which movies you've seen and want to see? Relax, Cinephile Personal Movie Database has got you covered.\n              </p>\n      </div>\n\n      <div class=\"row\">\n        <div class=\"col span-1-of-4 box\">\n          <ion-icon name=\"library-outline\" class=\"icon-big\"></ion-icon>\n            <h3>Custom libraries</h3>\n              <p>\n              Whether you watch a movie a week, or ten a day, CPMD gives you the option of saving custom movie libraries for easy reference. \n              </p>\n      </div>\n        <div class=\"col span-1-of-4 box\">\n          <ion-icon name=\"videocam-outline\" class=\"icon-big\"></ion-icon>\n            <h3>Save movies in any format</h3>\n              <p>   \n              A movie is a movie, right? Sure, but you may like watching streamed content or go old school and throw in a DVD/Blu-ray. With CPMD you can easily record different movie formats.  \n              </p>\n      </div>      \n        <div class=\"col span-1-of-4 box\">\n          <ion-icon name=\"star-outline\" class=\"icon-big\"></ion-icon>\n            <h3>Wishlist categories</h3>\n              <p>\n              So many movies to watch, so little time! Don't worry, CPMD allows you to quickly save movies you haven't seen yet to your own personalised wishlist. You'll get around to them eventually...\n              </p>\n      </div>      \n        <div class=\"col span-1-of-4 box\">\n          <ion-icon name=\"create-outline\" class=\"icon-big\"></ion-icon>\n            <h3>Update and edit with ease</h3>\n              <p>\n              New movies are released every day and if you're like us, you want to watch them ALL!! If your taste in movies changes, add or delete them whenever you like. \n              </p>\n        </div>\n    </div>\n</section>\n\n<section class=\"section-movies\">\n      <ul class=\"movies-showcase\">\n        <li>\n          <figure class=\"movie-poster\">\n            <img src=\"/client/images/back-to-the-future.jpg\" alt=\"movie-poster 1\">\n          </figure>\n        </li>\n        <li>\n          <figure class=\"movie-poster\">\n            <img src=\"/client/images/godfather-III.jpg\" alt=\"movie-poster 2\">\n          </figure>\n        </li>\n        <li>\n          <figure class=\"movie-poster\">\n            <img src=\"/client/images/jaws.jpg\" alt=\"movie-poster 3\">\n          </figure>\n        </li>\n        <li>\n          <figure class=\"movie-poster\">\n            <img src=\"/client/images/jurassic-park.jpg\" alt=\"movie-poster 4\">\n          </figure>\n        </li>\n      </ul>\n\n<ul class=\"movies-showcase\">\n        <li>\n          <figure class=\"movie-poster\">\n            <img src=\"/client/images/Halloween.jpg\" alt=\"movie-poster 5\">\n          </figure>\n        </li>\n        <li>\n          <figure class=\"movie-poster\">\n            <img src=\"/client/images/star-wars-episode-iv.jpg\" alt=\"movie-poster 6\">\n          </figure>\n        </li>\n        <li>\n          <figure class=\"movie-poster\">\n            <img src=\"/client/images/pulp-fiction.jpg\" alt=\"movie-poster 7\">\n          </figure>\n        </li>\n        <li>\n          <figure class=\"movie-poster\">\n            <img src=\"/client/images/indiana-jones-and-the-temple-of-doom.jpg\" alt=\"movie-poster 8\">\n          </figure>\n        </li>\n      </ul>\n\n\n</section>\n\n<form id=\"login-user\">\n        <div class=\"form-group\">\n            <label for=\"username\">Username</label>\n            <input type=\"text\" class=\"form-control\" placeholder=\"Please enter username\" name=\"username\">\n        </div>\n        <div class=\"form-group\">\n            <label for=\"password\">Password</label>\n            <input type=\"password\" class=\"form-control\" placeholder=\"Please enter password\" name=\"password\">\n        </div>\n        <button type=\"submit\" class=\"btn btn-primary\">Log-in</button>\n    </form>\n    <button id=\"register-new-user\" class=\"btn btn-primary\">Register new user</button>\n</body>\n`;\n\nconst loginUser = () => {\n  $(document).on(\"submit\", \"#login-user\", async (event) => {\n    event.preventDefault();\n\n    const formData = {\n      username: $(\"input[name='username']\").val(),\n      password: $(\"input[name='password']\").val(),\n    };\n\n    try {\n      const response = await $.ajax({\n        type: \"POST\",\n        url: \"/api/users/login\",\n        contentType: \"application/json\",\n        data: JSON.stringify(formData),\n      });\n\n      $(\"body\").empty();\n      $(\"body\").append(newMovie());\n    } catch (err) {\n      $(\"body\").append(\"<div>Invalid user/pass provided!</div>\");\n    }\n  });\n  return form;\n};\n\n$(document).on(\"click\", \"#register-new-user\", () => {\n  $(\"body\").empty();\n  $(\"body\").append(newUser());\n});\n\nexport default loginUser;\n"},"lineCount":null}},"error":null,"hash":"345d870ba5efdbd358dddb5c0c69450e","cacheData":{"env":{}}}